<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>Javascript 回到顶部效果</title>
  <link rel="stylesheet" type="text/css" href="style.css" />
  <meta charset="utf-8">
</head>
<body>
  
  <div class="box">
    <img src="http://img.mukewang.com/535e0ce800015b7511902787.jpg" />
  </div>
  <a href="javascript:;" id="btn" title="回到顶部"></a>
  <script type="text/javascript">
    window.onload=function(){
      var obtn=document.getElementById('btn');
      var clientHeight=document.documentElement.clientHeight||document.body.clientHeight;
      var timer=null;
      var isTop=true;
      window.onscroll=function(){
        var osTop=document.documentElement.scrollTop || document.body.scrollTop;
        if(osTop>=clientHeight){
            obtn.style.display="block";
          }else{
            obtn.style.display="none";
          }
        if(!isTop){
          clearInterval(timer);
        }
        isTop=false;
      };
      obtn.onclick=function(){
        timer=setInterval(function(){
          var osTop=document.documentElement.scrollTop || document.body.scrollTop;
          var ispeed=Math.floor(-osTop/5);
          document.documentElement.scrollTop = document.body.scrollTop = osTop+ispeed;
          isTop=true;
          if(osTop==0){
            clearInterval(timer);
          }
        },20);
      }
    }
  </script>
</body>
</html>
